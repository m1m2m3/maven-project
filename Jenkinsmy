pipeline
{
   agent any
   stages
{
   stage ('SCM checkout')
        {
        steps{
        git 'https://github.com/m1m2m3/maven-project.git'
              }     
        }
   stage ('Build')
        {
        steps{
        withMaven(jdk: 'myjdk', maven: 'mymaven') 
                  {
                   sh 'mvn clean install'// some block
                  }
              }     
        }
    stage('Checkstyle') 
         {
           steps {
                 sh "mvn checkstyle:check"
                 recordIssues(tools: [checkStyle(reportEncoding: 'UTF-8')])
                  }
          }    
 }
}
